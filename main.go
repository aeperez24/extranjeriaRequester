
package main

import(
	"fmt"
	"time"
)

func main(){

	service:=DisponibilidadService{}
	procesador:=Procesador{}
	itime:="2019-02-04";
	etime:="2019-03-01";
	header:="JSESSIONID=lYZRsZEGJcjG50rYoc6W9aXU.jboss6-01-N2; BIGipServerJBoss6_FrontEnd=1809714442.20480.0000; TS01443483=0110551a834e0b50af5f3d28418c35faac21234bb06dfe7e5265c1333c7b363d29f92c1ab6ed71e4944b5e3ffe7e657cef14457ce244f306c23aa9de84df8a936b168181908b60490fcfb7b5e72a65e9f237e22c92; TS596c9b1a_27=08ee14f2eeab2000ef37bd51edb6c328ec43ceef9a7cf9cc1ca4453ac55aeed5212b2a62b58961ea08389745de11200056b268660290e730445b18f1bd939c43926c2270477e53a5252ec845445e415c; TS6e642c4f_76=08ee14f2eeab280002431a82da3b53ac4013c83531f8c246027639f4bc801ebbebc565534f443bb62e3093b75681723008743a1eba09e8004a226a86cd09a71b8d424ab3d6a24dbf5046f8c1ff773f4469efbfb96114782a1679b75bb8dfb1be670a7dd27e3cfab90c4dc116a3ea98fe96509a6e812e9e2719f8e54a57bf13570de71a2a229da72c8661977781833420ebd979e3cc9be5a1a6df83e754962bd796c0277aa9b0c8813ebcddef179f7007545597511031651e23beb8c20ba27638c54822eae2e69317d5971649d7bf2621dc68ff031d3b44b873392f766e299dbe8238b8e13a116416e0dd703b6e630cbe46d32c28711a983e62f01e69af1653361f2f618e65f9c4b8ecce9da95ca7f591428d3a5750cda74956576c0da55c0d33; TSPD_101=08ee14f2eeab280002431a82da3b53ac4013c83531f8c246027639f4bc801ebbebc565534f443bb62e3093b756817230:08ee14f2eeab280002431a82da3b53ac4013c83531f8c246027639f4bc801ebbebc565534f443bb62e3093b75681723008743a1eba0638002b9f2a69a9ecbb1bc3c8cc5852ee365496d66190a30044cc6052a3da056f7a97826c59154e87c038c4afc44b6d978a3767f6162ded35bab6; TS01443483_77=08ee14f2eeab2800a594435b89aa00824a6be1e05754a8a755ec46ebf4efab7a9357a1372190ed214184ef0947eafc1f08bf0bc68b824000714926b00bbec7607bbff0aa14c02b43725b27a9e95b7709759b34c009ea63a8ae872960f39dfc9204894d08a44550720ed982c505b69211d3802e3af4a086d8"
	
	
	
	notif:=Notificador{"https://www.youtube.com/watch?v=Ph0qjo1PTzQ"};
	
	for true {
     
	result,err:=service.getBloques(itime,etime,header);
	
	if(err!=nil){
		fmt.Print(err)
		notif.NotificarError(fmt.Sprintf("%v",err))
	}else{
//		fmt.Println(result);
		disponibles:=procesador.Procesar(result);
		if(len(disponibles))>0{
		notif.NotificarExito(disponibles);

		}else{ 
			fmt.Println("no hay disponibles")}
		
	}
	time.Sleep(5 * time.Second)
}
	
}
